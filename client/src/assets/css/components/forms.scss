@import "../node_modules/@fortawesome/fontawesome-free-webfonts/scss/fontawesome.scss";
@import "../node_modules/@fortawesome/fontawesome-free-webfonts/scss/fa-solid.scss";

.site-form {
    width: 500px;
    height: auto;
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    margin: auto;
    background-color: $white;
    box-shadow: 0px 2px 7px $dark-gray;
    border-top: 5px solid $powder;
    @include transform(translateY(-50%));
    @include border-radius(3px);
    @include rem(padding, 30px 0);

    .form-header {
        width: 100%;
        text-align: center;
        @include rem(padding, 0 0 10px);

        h2 {
            color: $dark-gray;
            @include raleway-bold();
            text-transform: uppercase;

            @include mq('tablet') {
                @include rem(font-size, 32px);
            }
        }
    }

    form {
        width: 90%;
        margin: 0 auto;
        @include flexbox();
        @include flex-flow(column wrap);
        @include flex-basis(100%);
        @include justify-content(space-between);
        @include align-items(center);
        @include rem(padding, 0 30px);

        .form-group {
            width: 100%;

            /* Inputs */
            .input {
                position: relative;
                z-index: 1;
                display: inline-block;
                margin: 1em 0;
                width: 100%;
                max-width: 500px;
                vertical-align: top;
                overflow: hidden;
                background: transparent;

                .input-field {
                    position: relative;
                    display: block;
                    @include rem(padding, 20px 20px 20px 50px);
                    width: 100%;
                    @include rem(font-size, 16px);
                    background: transparent;
                    border: none;
                    @include border-radius(0);
                    color: $dark-gray;
                    @include opensans-regular();
                    @include appearance(none);
                    outline: none;

                    @include placeholder($light-gray, 400);

                    &:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus {
                        background-color: transparent !important;
                        -webkit-box-shadow: inset 0 0 0px 9999px $white;
                        box-shadow: inset 0 0 0px 9999px $white;
                        color: $dark-gray;
                    }

                    &:focus {
                        + .input-label {
                            &:after {
                                @include transform(translate3d(0, 0, 0));
                                border-bottom: 3px solid $powder;
                            }

                            .input-icon {
                                color: $powder;
                            }
                        }
                    }

                    &.ng-valid[required], .ng-valid.required {
                        + .input-label {
                            .input-icon {
                                color: $aqua;
                            }
                        }
                    }

                    &.ng-invalid.ng-touched.ng-dirty {
                        + .input-label {
                            .input-icon {
                                color: $vermillion;
                            }
                        }
                    }
                }

                .input-label {
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    padding: 0 0 .25em;
                    margin: 0;
                    width: 100%;
                    height: calc(100% - 1em);
                    @include user-select(none);
                    text-align: center;
                    z-index: 2;
                    pointer-events: none;

                    &:before, &:after {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        z-index: -1;
                        width: 100%;
                        height: calc(100% - 10px);
                        border-bottom: 1px solid $light-gray;
                    }

                    &:after {
                        margin-top: 2px;
                        border-bottom: 3px solid $light-gray;
                        @include transform(translate3d(-100%, 0, 0));
                        @include transition(transform 0.3s);
                    }

                    .input-icon {
                        @include fa-icon;
                        @extend .fas;
                        @include transition(all 0.3s);

                        position: absolute;
                        left: 10px;
                        @include rem(font-size, 22px);
                        @include rem(padding-top, 10px);

                        color: $light-gray;
                    }
                }
            }
        }

        .submit-button {
            width: 100%;
            margin-top: 20px;

            @include mq("tablet") {
                @include rem(font-size, 18px);
            }
        }
    }
}

@include keyframes(border-slide) {
    50% {
		opacity: 0;
        @include transform(translate3d(1em, 0, 0));
	}
	51% {
		opacity: 0;
        @include transform(translate3d(-1em, -40%, 0));
	}
	100% {
		opacity: 1;
        @include transform(translate3d(0, -40%, 0));
	}
}

/** All other game forms **/
.game-form {
    form {
        @include flexbox();
        @include flex-flow(column wrap);
        @include flex-basis(100%);
        @include justify-content(space-between);
        @include align-items(center);

        width: 90%;
        margin: 0 auto;

        .form-group {
            width: 100%;

            &:not(:last-child) {
                @include rem(margin-bottom, 15px);
            }

            .input-label {
                width: 100%;
                text-align: left;

                .input-label-content {
                    width: 100%;
                    display: inline-block;
                    position: relative;
                    @include rem(margin-bottom, 8px);
                    color: $aqua;
                    @include rem(font-size, 14px);
                    @include opensans-bold();
                }
            }

            .input-field {
                background-color: transparent;
                color: $dark-gray;
                @include opensans-regular();
                @include appearance(none);
                @include rem(padding, 10px 15px);
                @include rem(font-size, 16px);
                position: relative;
                display: block;

                width: 100%;
                border: 2px solid $aqua;
                @include transition(background-color 0.3s, border-color 0.3s);

                &:focus {
                    outline: 0;
                }
            }

            .checkbox-container {
                position: relative;

                .checkbox-label {
                    width: 20px;
                    height: 20px;
                    cursor: pointer;
                    position: absolute;
                    top: 0;
                    left: 0;
                    background: transparent;
                    @include border-radius(0);
                    border: 2px solid $aqua;

                    &:after {
                        content: '';
                        width: 11px;
                        height: 7px;
                        position: absolute;
                        top: 4px;
                        left: 3px;
                        border: 3px solid $aqua;
                        border-top: none;
                        border-right: none;
                        background: transparent;
                        opacity: 0;
                        @include transform(rotate(-45deg));
                    }

                    &:hover:after {
                        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
                        filter: alpha(opacity=30);
                        opacity: 0.3;
                    }
                }

                input[type="checkbox"] {
                    visibility: hidden;
                    padding: initial;
                    margin: 3px 0.5ex;
                    font-size: initial;

                    &:checked + .checkbox-label:after {
                        opacity: 1;
                    }
                }

                .input-label {
                    width: 80%;
                    @include rem(margin-left, 10px);
                }
            }

            .select-container {
                position: relative;

                .select-box {
                    width: 100%;
                    border: 2px solid $aqua;
                    background: transparent;
                    @include opensans-regular();
                    @include rem(font-size, 16px);
                    @include rem(padding, 10px 15px);
                    color: $dark-gray;
                    @include appearance(none);
                }

                i {
                    position: absolute;
                    right: 15px;
                    bottom: 20px;
                    color: $aqua;
                    @include rem(font-size, 20px);
                }
            }
        }
    }
}

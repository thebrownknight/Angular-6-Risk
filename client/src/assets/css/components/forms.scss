@import "../node_modules/@fortawesome/fontawesome-free-webfonts/scss/fontawesome.scss";
@import "../node_modules/@fortawesome/fontawesome-free-webfonts/scss/fa-solid.scss";
@import "../node_modules/@fortawesome/fontawesome-free-webfonts/scss/fa-brands.scss";

.site-form {
    width: 500px;
    height: 420px;
    margin: 0 auto;
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    margin: auto;
    background-color: $white;
    box-shadow: 0px 2px 7px lighten($dark-gray, 40%);

    .form-header {
        border-bottom: 1px solid $off-white;
        width: 100%;
        text-align: center;
        @include rem(padding, 10px 0);

        h2 {
            color: $dark-blue;
            @include raleway-regular();

            @include mq('tablet') {
                @include rem(font-size, 16px);
            }
        }
    }

    form {
        width: 100%;
        @include flexbox();
        @include flex-flow(column wrap);
        @include flex-basis(100%);
        @include justify-content(space-between);
        @include align-items(center);
        @include rem(padding, 0 30px 20px);

        .form-group {
            width: 100%;

            /* Inputs */
            .input {
                position: relative;
                z-index: 1;
                display: inline-block;
                margin: 1em 0;
                width: 100%;
                max-width: 500px;
                vertical-align: top;
                overflow: hidden;
                background: $off-white;
                font-size: 150%;

                .input-field {
                    position: relative;
                    display: block;
                    float: right;
                    @include rem(padding, 18px 20px 18px 70px);
                    width: 100%;
                    @include rem(font-size, 16px);
                    background: transparent;
                    @include transform(translate3d(1em, 0, 0));
                    @include transition(transform 0.3s);
                    border: none;
                    @include border-radius(0);
                    color: $dark-gray;
                    @include opensans-regular();
                    @include appearance(none);

                    &:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus {
                        background-color: transparent !important;
                        -webkit-box-shadow: inset 0 0 0px 9999px $off-white;
                        box-shadow: inset 0 0 0px 9999px $off-white;
                        color: $dark-gray;
                    }

                    &:focus {
                        @include transform(translate3d(0, 0, 0));
                        outline: none;

                        + .input-label {
                            &:before {
                                @include transform(scale3d(0.8, 1, 1));
                            }
                            .input-icon {
                                @include transform(scale3d(0.6, 0.6, 1));
                            }
                        }
                    }

                    &.ng-valid[required], .ng-valid.required {
                        + .input-label {
                            .input-icon {
                                color: lighten($green, 20%);

                                &.user-icon {
                                    &:before {
                                        content: '\f501';
                                    }
                                }

                                &.password-icon {
                                    &:before {
                                        content: '\f023';
                                    }
                                }
                            }
                        }
                    }

                    &.ng-invalid.ng-touched.ng-dirty {
                        + .input-label {
                            .input-icon {
                                color: $red;

                                &.user-icon {
                                    &:before {
                                        content: '\f007';
                                    }
                                }

                                &.password-icon {
                                    &:before {
                                        content: '\f3c1';
                                    }
                                }
                            }
                        }
                    }
                }

                .input-label {
                    position: absolute;
                    padding: 1.25em 0 0;
                    margin: 0;
                    width: 4em;
                    height: 100%;
                    @include user-select(none);
                    text-align: center;
                    z-index: 2;

                    &:before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        z-index: -1;
                        width: 4em;
                        height: 100%;
                        background: $dark-blue;
                        @include transform-origin(0% 50%);
                        @include transition(transform 0.3s);
                    }

                    .input-icon {
                        @include fa-icon;
                        @extend .fas;

                        width: 1.28571429em;
                        text-align: center;
                        font-size: 150%;
                        color: $white;
                        @include transform(scale3d(1, 1, 1));
                        @include transform-origin(0% 50%);
                        @include transition(transform 0.3s);

                        &.user-icon {
                            &:before {
                                content: '\f007';
                            }
                        }
                        &.password-icon {
                            &:before {
                                content: '\f3c1';
                            }
                        }
                    }
                }
            }
        }

        .submit-button {
            width: 100%;
            margin-top: 20px;

            @include mq("tablet") {
                @include rem(font-size, 18px);
            }
        }
    }
}
